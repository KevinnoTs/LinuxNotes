正则表达式 Regex

本篇为Linux正则表达式，仅用于Linux三剑客

参考资料：https://www.cnblogs.com/hfutwyy/p/3415577.html

注：

1、本文中以n和m代表任意非负整数，并且n<=m

2、本文中以..代表任意字符

3、本文中以exp代表任意表达式


一、Liunx正则表达式定义：

Linux正则表达式（Regular Expression）主要遵从POSIX BRE（基本正则表达式）或者POSIX ERE（扩展正则表达式）标准。什么是POSIX呢，POSIX Portable Operating System Interface 可移植操作系统接口ERE是BRE的扩展版本，具体更强的处理能力，并增加了一些元字符（metacharactor）。

BRE与ERE的异同：参考资料：https://blog.csdn.net/huli870715/article/details/6973291


二、正则表达式组成：

1、	一般字符：没有特殊意义的字符

2、	特殊字符（meta字符）：元字符，在正则表达式中有特殊意义


三、BRE、ERE都有的meta字符：

1、	"\" 	转义符，通常用于打开或关闭后续字符的特殊含义
			最常见的是将表达式中的元字符转义输出为该符号本身
			在\{n,m\}中，则把{}符号本身赋予特殊意义
				在BRE中，{}该符号本身并没有特殊意义，只是他本身
				在ERE中，{n,m}表示前面的字符出现了n到m次，{}本身有意义
			同理还有BRE中的\(\)和ERE中的()

2、	"."		匹配任意单个字符（除NULL）

3、	"*"		匹配前面的字符0个或多个
			.*\..*	表示匹配包含最少一个"."的字符串，点可以在开头、可以在结尾也可以在中间

4、 "^.."	匹配后面的正则表达式，BRE中表示以...开头，ERE中在任何位置都有特殊含义
			^http	表示匹配以http开头的整行内容

5、	"..$"	匹配前面的正则表达式，BRE中表示以...结尾，ERE中在任何位置都有特殊含义
			ing$	表示匹配以ing结尾的整行内容

6、	"[..]"	匹配放括号内的任意字符，其中可以用连字符"-"，表示连续字符的范围
			"[xyz]"	表示匹配x、y、z任意一个字符
			"[0-9]"	表示匹配0～9的任意数字

7、	"[^..]"	匹配不是括号内任意字符的任意字符，其中可以用连字符"-"，表示连续字符的范围
			"[^xyz]"	表示匹配非x、非y、非z的任意字符

8、	"\w"	匹配任意数字或字母或下划线

9、	"\W"	匹配任意非数字或字母或下划线

10、	"\b"	匹配开头或结尾的位置
			如匹配开头，这个字符串前面必须是非字符串（\W）才可以匹配
			如匹配结尾，这个字符串后面必须是非字符串（\W）才可以匹配

11、	"\B"	匹配非单词边界的位置
			"er\B"	匹配verb中的er，但并不能匹配never中的er

12、	"\s"	匹配任何不可见字符，包括空格、制表符、换页符等等。等价于[ \f\n\r\t\v]

13、	"\S"	匹配任何可见字符，等价于[^ \f\n\r\t\v]

14、	"\n"	调用一次第n个分组的表达式，分组使用"\(\)"（BRE）或"()"（ERE）
			\n的n在这个表达式中仅代表一个数字，\n这个表达式本身为换行符


四、BRE才有的字符

1、	"\{n,m\}"	区间表达式，匹配面前字符的重复次数
				"\{\n}"		表示匹配前面内容出现了n次
				"\{\n,m}"	表示匹配前面内容出现了n到m次
				"\{n,\}"	表示最少匹配n次
				"\{0,\}"	表示匹配0次或多次，相当于*
				"\{1,\}"	表示匹配1次或更多次，相当于ERE中的+
				"\{0,1\}"	表示匹配0次或1次，相当于ERE中的?
				^https\{0,1\}	表示匹配http或https为开头的整行内容

2、	"\(exp\)"	分组，也叫保留空间，可以将最多9个独立的子模式储存在单个分组中，分组用\n调用
				\(ab\).*\1	将ab这个匹配条件通过分组存储起来，通过\1重复调用该分组，该表达式表示在两个ab之间有任意数量个任意字符
				\(.\)\1		表示匹配两个连续的相同字符


五、ERE才有的字符

1、	"{n,m}"		同BRE中的"\{n,m\}"
				^https{0,1}	表示匹配http或https为开头的整行内容

2、	"(exp)"		同BRE中的"\(\)"，分组用\n调用

3、	"|"			条件或，即前面的字符或后面的字符
				http|https	表示匹配http或https为开头的整行内容

六、其他可替换之前表达式的简写表达式（大多数有限制，如只能在ERE中使用或需要perl正则支持）

1、 	"\d"		表示匹配一个数字字符
				需perl正则支持，grep需要加上-P，等价于[0-9]

2、 	"\D"		表示匹配一个非数字字符
				需perl正则支持，grep需要加上-P，等价于[^0-9]

3、	"+"			匹配前面的字符1个或多个
				ERE专用，在BRE中等价于"\{1,\}"
				^\w+@\w+\.\w+	表示以任意字母数字或下划线开头的任意1个或多个字母数字或下划线接@接任意一个或多个字母数字或下划线接.接任意一个或多个字母数字或下划线，可以用作邮箱的规范

4、	"?"			匹配前面的字符0个或1个
				ERE专用，等价于"\{0,1\}"
				^https?	表示匹配http或https为开头的整行内容

